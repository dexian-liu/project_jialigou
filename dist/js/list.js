"use strict";function _classCallCheck(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,a){for(var t=0;t<a.length;t++){var e=a[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function _createClass(n,a,t){return a&&_defineProperties(n.prototype,a),t&&_defineProperties(n,t),n}var List=function(){function n(){_classCallCheck(this,n),this.addEvent(),this.init()}return _createClass(n,[{key:"init",value:function(){var n=$.cookie("carts")?$.cookie("carts"):"",a=convertStrToObj(n),t=0;for(var e in a)t+=a[e].good_num;$(".menu-cart span").last().html(t)}},{key:"addEvent",value:function(){$.ajax({type:"get",url:"../php/list.php",success:function(n){n=JSON.parse(n);var a=$(".list-good"),t="";$.each(n,function(n,a){t+='\n                    <li data-id="'.concat(a.id,'">\n                        <img src="../img/detail-content-logo').concat(a.id,'.jpg" alt="">\n                        <div class="name">').concat(a.name,'</div>\n                        <div class="good-price">\n                            <span class="price">¥').concat(a.price,'\n                            </span>\n                            <span class="num">已售：').concat(a.sell,'件</span>\n                        </div>\n                        <div class="good-btn">\n                            <a href="" class="addcart">加入购物车</a>\n                            <a href="" class="collect">收藏</a>\n                        </div>  \n                    </li>\n                    ')}),a.html(t),$(".list-good>li>img").on("click",function(){var n=$(this).parent().attr("data-id");$.ajax({type:"get",url:"./detail.html?id=".concat(n),success:function(n){console.log(n)}}),location.href="./detail.html?id=".concat(n),console.log(n)})}})}}]),n}();