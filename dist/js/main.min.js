"use strict";function _classCallCheck(t,a){if(!(t instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,a){for(var e=0;e<a.length;e++){var n=a[e];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}}function _createClass(t,a,e){return a&&_defineProperties(t.prototype,a),e&&_defineProperties(t,e),t}var Cart=function(){function t(){_classCallCheck(this,t),this.addEvent()}return _createClass(t,[{key:"addEvent",value:function(){var t=$.cookie("carts")?$.cookie("carts"):"",a=convertStrToObj(t);for(var e in console.log(a),a){var n=a[e],o='\n            <td class="oper-select">\n               \n                <img src="../img/detail-content-logo'.concat(n.good_img,'.jpg" alt="">\n            </td>\n            <td class="oper-name">\n                <p class="name"><a href="">').concat(n.good_name,'</a></p>\n                <p class="id">货号：').concat(n.good_serial,'</p>\n                <p class="size">颜色/尺码 ：</p>\n            </td>\n            <td class="price">').concat(n.good_price,'</td>\n            <td class="oper-num" data-id=').concat(e,'>\n                <a href="javascript:;" class="minus">-</a>\n                <span class="num">').concat(n.good_num,'</span>\n                <a href="javascript:;" class="plus">+</a>\n            </td>\n            <td class="j-price">').concat(n.good_price*n.good_num,'</td>\n            <td class="del">\n                <a href="javascript:;">删除</a>\n            </td>\n            '),r=$("<tr>");r.attr("class","cart-list"),r.html(o),$("table").append(r)}$(".minus").on("click",function(){var t=$(this).parent().attr("data-id"),a=$.cookie("carts")?$.cookie("carts"):"",e=convertStrToObj(a);1<e[t].good_num&&e[t].good_num--,$.cookie("carts",JSON.stringify(e),{expires:7,path:"/"}),$(this).next().html(e[t].good_num),$(this).parent().next().html(e[t].good_num*e[t].good_price)}),$(".plus").on("click",function(){var t=$(this).parent().attr("data-id"),a=$.cookie("carts")?$.cookie("carts"):"",e=convertStrToObj(a);e[t].good_num++,$.cookie("carts",JSON.stringify(e),{expires:7,path:"/"}),$(this).prev().html(e[t].good_num),$(this).parent().next().html(e[t].good_num*e[t].good_price)}),$(".del a").on("click",function(){var t=$(this).parent().prev().prev().attr("data-id");console.log(t);var a=$.cookie("carts")?$.cookie("carts"):"",e=convertStrToObj(a);delete e[t],$.cookie("carts",JSON.stringify(e),{expires:7,path:"/"}),$(this).parent().parent().remove()})}}]),t}();
"use strict";function _classCallCheck(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,a){for(var t=0;t<a.length;t++){var i=a[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(n,i.key,i)}}function _createClass(n,a,t){return a&&_defineProperties(n.prototype,a),t&&_defineProperties(n,t),n}var Product=function(){function n(){_classCallCheck(this,n),this.addEvent(),this.init()}return _createClass(n,[{key:"init",value:function(){var n=$.cookie("carts")?$.cookie("carts"):"",a=convertStrToObj(n),t=0;for(var i in a)t+=a[i].good_num;$(".menu-cart span").last().html(t)}},{key:"addEvent",value:function(){var i=window.location.search.replace("?id=","");$.ajax({type:"get",url:"../php/list.php",success:function(n){n=JSON.parse(n),$.each(n,function(n,a){var t;a.id==i&&(t='\n                        <div class="detail-content-logo">\n                            <img src="../img/detail-content-logo'.concat(a.id,'.jpg" alt="">\n                            <div class="mask"></div>\n                            <div class="big">\n                                <img src="../img/detail-content-logo').concat(a.id,'.jpg" alt="">\n                            </div>\n                        </div>\n                        <div class="detail-content-logo-samll">\n                            <img src="../img/detail-content-logo').concat(a.id,'.jpg" alt="">\n                        </div>\n                        <div class="detail-content-list" data-id="sp').concat(a.id,'">\n                            <h2>\n                                <span>自营商品</span> \n                                <span class="good-name">').concat(a.name,'</span>\n                                <span class="good-id">(供货号:').concat(a.serial,')</span>\n                            </h2>\n                            <ul>\n                                <li>\n                                    <span>嘉丽价</span>\n                                    <span class="good-price">').concat(a.price,'</span></li>\n                                <li>\n                                    <span>积分</span>\n                                    <span class="good-point">订购此商品可返回').concat(a.point,'积分</span>\n                                </li>\n                                <li>\n                                    <span>尺寸</span>\n                                    <span class="good-size">').concat(a.name,'\n                                    </span>\n                                </li>\n                                <li>\n                                    <span>数量</span>\n                                    <span class="good-size clear">\n                                        <a href="javascript:;" class="minus">-</a>\n                                        <input type="text" class="num" value="1">\n                                        件\n                                        <a href="javascript:;" class="plus">+</a>\n                                    </span>\n                                </li>\n                            </ul>\n                            <div class="btn clear">\n                                <a href="javascript:;" class="buy">立即购买</a>\n                                <a href="javascript:;" class="addcart">加入购物车</a>\n                                <a href="javascript:;" class="collect">收藏</a>\n                            </div>\n                        </div>\n                    </div>\n                        '),$(".detail-content").html(t),$(".addcart").on("click",function(){var n=$(this).parent().parent().children("h2").children(".good-name").html(),a=$(this).parent().parent().children("h2").children(".good-id").html(),t=/(\d+)/,a=parseInt(t.exec(a)[1]),i=parseInt($(this).parent().prev().children().last().children(".good-size").find(".num").val()),e=$(this).parent().prev().children().eq(1).children(".good-point").html(),e=parseInt(t.exec(e)[1]),s=parseInt($(this).parent().prev().children().eq(0).children(".good-price").html()),o=$(this).parent().parent().attr("data-id"),c=parseInt(t.exec(o)[1]),l=$.cookie("carts")?$.cookie("carts"):"",r=convertStrToObj(l);o in r?r[o].good_num+=i:r[o]={good_serial:a,good_name:n,good_price:s,good_num:i,good_point:e,good_img:c},$.cookie("carts",JSON.stringify(r),{expires:7,path:"/"});var d=parseInt($(".menu-cart span").last().html());d+=i,$(".menu-cart span").last().html(d)}),$(".menu-cart").on("click",function(){location.href="./cart.html"}),$(".detail-content-logo").on("mouseenter",function(){$(".mask").css("display","block"),$(".big").css("display","block"),$(this).on("mousemove",function(n){var a=parseInt(n.pageX-$(this).offset().left),t=parseInt(n.pageY-$(this).offset().top),i=a-$(".mask").width()/2,e=t-$(".mask").height()/2;i<=0?i=0:i>=$(this).width()-$(".mask").width()&&(i=$(this).width()-$(".mask").width()),e<=0?e=0:e>=$(this).height()-$(".mask").height()&&(e=$(this).height()-$(".mask").height()),$(".mask").css({left:i,top:e});var s=i/($(".detail-content-logo").width()-$(".mask").width()),o=e/($(".detail-content-logo").height()-$(".mask").height()),c=($(".big").width()-$(".big img").width())*s,l=($(".big").height()-$(".big img").height())*o;$(".big img").css({left:c,top:l})}),$(this).on("mouseleave",function(){$(".mask").css("display","none"),$(".big").css("display","none")})}),$(".minus").on("click",function(){var n=$(this).next().val();--n<=0&&(n=1),$(".num").val(n)}),$(".plus").on("click",function(){var n=$(this).prev().val();n++,$(".num").val(n)}))})}})}}]),n}();
"use strict";function _defineProperty(e,n,t){return n in e?Object.defineProperty(e,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[n]=t,e}function _classCallCheck(e,n){if(!(e instanceof n))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}function _createClass(e,n,t){return n&&_defineProperties(e.prototype,n),t&&_defineProperties(e,t),e}var Index=function(){function e(){_classCallCheck(this,e),this.slider(),this.addEvent(),this.init()}return _createClass(e,[{key:"init",value:function(){var e=$.cookie("carts")?$.cookie("carts"):"",n=convertStrToObj(e),t=0;for(var o in n)t+=n[o].good_num;$(".menu-cart span").last().html(t),$(window).on("scroll",function(){300<=$(this).scrollTop()?$("#backTop").fadeIn():$("#backTop").fadeOut()}),$("#backTop").on("click",function(){$("html").animate({scrollTop:0},500)})}},{key:"slider",value:function(){var e,n=new Swiper(".swiper-container",(_defineProperty(e={direction:"horizontal",loop:!0,autoplay:!0},"autoplay",{disableOnInteraction:!1}),_defineProperty(e,"pagination",{el:".swiper-pagination",clickable:!0}),_defineProperty(e,"navigation",{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"}),e));n.el.onmouseover=function(){n.autoplay.stop()},n.el.onmouseout=function(){n.autoplay.start()}}},{key:"addEvent",value:function(){var e=0;$(".dot-btn-r").on("click",function(){--e<-4&&(e=-4),$(".hot-show-r").css("left",260*e)}),$(".dot-btn-l").on("click",function(){0<++e&&(e=0),console.log(e),$(".hot-show-r").css("left",260*e)})}}]),e}();
"use strict";function _classCallCheck(n,a){if(!(n instanceof a))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,a){for(var t=0;t<a.length;t++){var e=a[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}function _createClass(n,a,t){return a&&_defineProperties(n.prototype,a),t&&_defineProperties(n,t),n}var List=function(){function n(){_classCallCheck(this,n),this.addEvent(),this.init()}return _createClass(n,[{key:"init",value:function(){var n=$.cookie("carts")?$.cookie("carts"):"",a=convertStrToObj(n),t=0;for(var e in a)t+=a[e].good_num;$(".menu-cart span").last().html(t)}},{key:"addEvent",value:function(){$.ajax({type:"get",url:"../php/list.php",success:function(n){n=JSON.parse(n);var a=$(".list-good"),t="";$.each(n,function(n,a){t+='\n                    <li data-id="'.concat(a.id,'">\n                        <img src="../img/detail-content-logo').concat(a.id,'.jpg" alt="">\n                        <div class="name">').concat(a.name,'</div>\n                        <div class="good-price">\n                            <span class="price">¥').concat(a.price,'\n                            </span>\n                            <span class="num">已售：').concat(a.sell,'件</span>\n                        </div>\n                        <div class="good-btn">\n                            <a href="" class="addcart">加入购物车</a>\n                            <a href="" class="collect">收藏</a>\n                        </div>  \n                    </li>\n                    ')}),a.html(t),$(".list-good>li>img").on("click",function(){var n=$(this).parent().attr("data-id");$.ajax({type:"get",url:"./detail.html?id=".concat(n),success:function(n){console.log(n)}}),location.href="./detail.html?id=".concat(n),console.log(n)})}})}}]),n}();
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}function _createClass(e,r,n){return r&&_defineProperties(e.prototype,r),n&&_defineProperties(e,n),e}var Login=function(){function e(){_classCallCheck(this,e),this.addEvent()}return _createClass(e,[{key:"addEvent",value:function(){var i=[!1,!1,!1];$("#username").on("blur",function(){var e=$(this).val();if(!/^[a-zA-Z]{4,8}$/.test(e))return alert("请输入4-8位用户名"),void(i[0]=!1);i[0]=!0}),$("#userpwd").on("blur",function(){var e=$(this).val();if(!/^[0-9]{8,16}$/.test(e))return alert("请输8-16位密码"),void(i[1]=!1);i[1]=!0}),$("#verify").on("blur",function(){var e=$(this).val();if(!/^[0-9a-zA-Z]{4}$/.test(e))return alert("请输入正确的格式"),void(i[2]=!1);var r=$(this).next().html().toLowerCase();if(console.log(r),e!=r)return console.log("错误"),void(i[2]=!1);console.log("成功"),i[2]=!0});var r=this;$(".verify-img").on("click",function(){var e=r.randomInt();$(".verify-img").html(e)}),$(".login").on("click",function(){if(-1===i.indexOf(!1)){var e=$("#username").val(),r=$("#userpwd").val(),n=$.cookie("register")?$.cookie("register"):"",t=convertStrToObj(n);if(!(e in t))return void alert("用户名不存在");t[e]==r?location.href="../index.html":alert("密码错误")}})}},{key:"randomInt",value:function(){for(var e="0123456789abcdefghigklmnopqrstuvwxyzABCDEFGHIGKLMNOPQRSTUVWXYZ",r="";r.length<4;){var n=Math.floor(Math.random()*e.length);-1===r.indexOf(e[n])&&(r+=e[n])}return r}}]),e}();
"use strict";function _classCallCheck(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,r){for(var t=0;t<r.length;t++){var i=r[t];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,r,t){return r&&_defineProperties(e.prototype,r),t&&_defineProperties(e,t),e}var Register=function(){function e(){_classCallCheck(this,e),this.addEvent()}return _createClass(e,[{key:"addEvent",value:function(){var n=[!1,!1,!1];$("#user-name").on("blur",function(){var e=$(this).val();if(!/^[a-zA-Z]{4,8}$/.test(e))return alert("请输入4-8位字母"),void(n[0]=!1);var r=$.cookie("register")?$.cookie("register"):"";if(e in convertStrToObj(r))return alert("用户已经存在"),void(n[0]=!1);n[0]=!0}),$("#user-pwd").on("blur",function(){var e=$(this).val();if(!/^[0-9]{8,16}$/.test(e))return alert("请输入8-16位密码"),void(n[1]=!1);n[1]=!0}),$("#user-sure").on("blur",function(){var e=$("#user-pwd").val(),r=$(this).val();return/^[0-9]{8,16}$/.test(r)?e!=r?(alert("两次密码不一致"),void(n[2]=!1)):void(n[2]=!0):(alert("请输入正确的确认密码格式"),void(n[2]=!1))}),$(".register").on("click",function(){var e,r,t,i;-1===n.indexOf(!1)?$(".choice").is(":checked")?(e=$("#user-name").val(),r=$("#user-pwd").val(),t=$.cookie("register")?$.cookie("register"):"",(i=convertStrToObj(t))[e]=r,$.cookie("register",JSON.stringify(i),{expires:7,path:"/"}),location.href="./login.html"):alert("请先阅读条款"):alert("请完善表单")})}}]),e}();